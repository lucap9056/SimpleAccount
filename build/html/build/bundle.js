var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function s(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function o(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function c(e){e.parentNode&&e.parentNode.removeChild(e)}function u(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function _(){return d(" ")}function m(){return d("")}function p(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function f(e){return function(t){return t.preventDefault(),e.call(this,t)}}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e,t){t=""+t,e.data!==t&&(e.data=t)}function v(e,t){e.value=null==t?"":t}let w;function $(e){w=e}function y(e){(function(){if(!w)throw new Error("Function called outside component initialization");return w})().$$.on_mount.push(e)}const x=[],b=[];let E=[];const R=[],A=Promise.resolve();let I=!1;function T(e){E.push(e)}function S(e){R.push(e)}const N=new Set;let k=0;function G(){if(0!==k)return;const e=w;do{try{for(;k<x.length;){const e=x[k];k++,$(e),C(e.$$)}}catch(e){throw x.length=0,k=0,e}for($(null),x.length=0,k=0;b.length;)b.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];N.has(t)||(N.add(t),t())}E.length=0}while(x.length);for(;R.length;)R.pop()();I=!1,N.clear(),$(e)}function C(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(T)}}const U=new Set;let L;function O(){L={r:0,c:[],p:L}}function P(){L.r||r(L.c),L=L.p}function M(e,t){e&&e.i&&(U.delete(e),e.i(t))}function z(e,t,n,r){if(e&&e.o){if(U.has(e))return;U.add(e),L.c.push((()=>{U.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}function j(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function D(e){e&&e.c()}function q(e,n,i,a){const{fragment:o,after_update:l}=e.$$;o&&o.m(n,i),a||T((()=>{const n=e.$$.on_mount.map(t).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...n):r(n),e.$$.on_mount=[]})),l.forEach(T)}function V(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];E.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),E=t}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function X(e,t){-1===e.$$.dirty[0]&&(x.push(e),I||(I=!0,A.then(G)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function H(t,s,i,a,o,l,u,d=[-1]){const _=w;$(t);const m=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:o,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(_?_.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:s.target||_.$$.root};u&&u(m.root);let p=!1;if(m.ctx=i?i(t,s.props||{},((e,n,...r)=>{const s=r.length?r[0]:n;return m.ctx&&o(m.ctx[e],m.ctx[e]=s)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](s),p&&X(t,e)),n})):[],m.update(),p=!0,r(m.before_update),m.fragment=!!a&&a(m.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);m.fragment&&m.fragment.l(e),e.forEach(c)}else m.fragment&&m.fragment.c();s.intro&&M(t.$$.fragment),q(t,s.target,s.anchor,s.customElement),G()}$(_)}class Y{$destroy(){V(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const J=[];function Z(t,n=e){let r;const s=new Set;function a(e){if(i(t,e)&&(t=e,r)){const e=!J.length;for(const e of s)e[1](),J.push(e,t);if(e){for(let e=0;e<J.length;e+=2)J[e][0](J[e+1]);J.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(i,o=e){const l=[i,o];return s.add(l),1===s.size&&(r=n(a)||e),i(t),()=>{s.delete(l),0===s.size&&r&&(r(),r=null)}}}}class W{constructor(e,t){this.parent=e,this.id=t}Remove(){this.parent.Remove(this.id)}}const B=new class{constructor(){this.loadings={},this.Visible=Z(!1)}Append(){const e=this.GenerateID(),t=new W(this,e);return this.loadings[e]=t,this.Update(),t}Remove(e){null!=this.loadings[e]&&(delete this.loadings[e],this.Update())}Update(){const{loadings:e,Visible:t}=this,n=Object.keys(e).length>0;t.update((()=>n))}GenerateID(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let n=0;n<8;n++)t+=e.charAt(Math.floor(62*Math.random()));return t}},F=B.Visible;function K(e){let t;return{c(){t=u("div"),t.innerHTML='<img id="loading_image" src="/assets/loading.svg" alt="" class="svelte-16xzq88"/>',h(t,"id","loading"),h(t,"class","svelte-16xzq88")},m(e,n){l(e,t,n)},d(e){e&&c(t)}}}function Q(t){let n,r=t[0]&&K();return{c(){r&&r.c(),n=m()},m(e,t){r&&r.m(e,t),l(e,n,t)},p(e,[t]){e[0]?r||(r=K(),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&c(n)}}}function ee(e,t,n){let r;return a(e,F,(e=>n(0,r=e))),[r]}let te=class extends Y{constructor(e){super(),H(this,e,ee,Q,i,{})}};var ne;const re=new class{constructor(){this.alerts=[]}SetListen(e){this.listen=e}GetNotifys(){return this.alerts}Add(e,t,n,r){const{alerts:s,listen:i}=this,a=new se(this,e,t,r,n),o=a.GetId();if(s.find((e=>e.GetId()==o)))throw"Alert Exists";if(s.push(a),i&&i(s),n)switch(t){case se.Type.Normal:case se.Type.Error:n(a.Remove.bind(a)).catch((e=>{a.Remove(),re.Add(e,se.Type.Error)}))}return a}Remove(e){const{alerts:t,listen:n}=this,r=t.findIndex((t=>t.GetId()==e));-1!=r&&(t.splice(r,1),n&&n(t))}};class se{constructor(e,t,n=0,r="",s){switch(this.manager=e,this.id=this.CreateId(),this.message=t,this.removeMessage=r,this.type=n,n){case se.Type.Alert:this.func=s;break;case se.Type.Normal:setTimeout(this.Remove.bind(this),3e3);break;case se.Type.Error:setTimeout(this.Remove.bind(this),5e3)}}CreateId(){let e=new Uint16Array(8);return crypto.getRandomValues(e),[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]].map((function(e){return(e<65536?"0":"")+e.toString(16)})).join("-")}GetId(){return this.id}GetType(){return this.type}GetMessage(){return this.message}GetRemoveMessage(){return this.removeMessage}Remove(){this.manager.Remove(this.id),this.type===se.Type.Alert&&this.func&&this.func()}}function ie(e){let t,n,r,s,i,a,m=e[1][0].GetMessage()+"",p=e[1][0].GetType()==se.Type.Alert,f=p&&ae(e);return{c(){t=u("div"),n=u("div"),r=u("div"),s=d(m),i=_(),f&&f.c(),h(r,"class","alert_message svelte-1vhbpk5"),h(n,"class","alert svelte-1vhbpk5"),h(n,"data-type",a=e[1][0].GetType()),h(t,"id","alerts_container"),h(t,"class","svelte-1vhbpk5")},m(a,c){l(a,t,c),o(t,n),o(n,r),o(r,s),o(n,i),f&&f.m(n,null),e[2](t)},p(e,t){2&t&&m!==(m=e[1][0].GetMessage()+"")&&g(s,m),2&t&&(p=e[1][0].GetType()==se.Type.Alert),p?f?f.p(e,t):(f=ae(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null),2&t&&a!==(a=e[1][0].GetType())&&h(n,"data-type",a)},d(n){n&&c(t),f&&f.d(),e[2](null)}}}function ae(e){let t,n,r,i,a=e[1][0].GetRemoveMessage()+"";return{c(){t=u("div"),n=d(a),h(t,"class","remove_alert svelte-1vhbpk5")},m(a,c){l(a,t,c),o(t,n),r||(i=p(t,"click",(function(){s(e[1][0].Remove.bind(e[1][0]))&&e[1][0].Remove.bind(e[1][0]).apply(this,arguments)})),r=!0)},p(t,r){e=t,2&r&&a!==(a=e[1][0].GetRemoveMessage()+"")&&g(n,a)},d(e){e&&c(t),r=!1,i()}}}function oe(t){let n,r=t[1].length>0&&ie(t);return{c(){r&&r.c(),n=m()},m(e,t){r&&r.m(e,t),l(e,n,t)},p(e,[t]){e[1].length>0?r?r.p(e,t):(r=ie(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&c(n)}}}function le(e,t,n){let r,s=re.GetNotifys();function i(e){n(1,s=e)}return y((()=>{re.SetListen(i)})),[r,s,function(e){b[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}se.Type=((ne=class{}).Normal=0,ne.Alert=1,ne.Error=2,ne);class ce extends Y{constructor(e){super(),H(this,e,le,oe,i,{})}}const ue=window.localStorage;delete window.localStorage;const de="tk",_e="_tk";var me={SetToken:function(e){switch(e){case"invalid":ue.removeItem(de),ue.removeItem(_e);break;case"invalid_t":ue.removeItem(_e);break;default:if(/^T /.test(e))return void ue.setItem(_e,e);/\./.test(e)&&ue.setItem(de,e)}},GetToken:function(){return ue.getItem(_e)||ue.getItem(de)||""},GetUser:function(){return new Promise(((e,t)=>{try{const t=ue.getItem(de).split(/\./g),n=atob(t[1]);e(JSON.parse(n))}catch(e){return void t()}}))}};const pe={0:"error_null",1:"error_server_side",2:"error_system_side_test",6:"error_client_invalid_request",11:"error_username_existed",12:"error_email_existed",13:"error_register_verification_code_invalid",14:"error_invalid_username",15:"error_username_too_short",16:"error_username_too_long",17:"error_invalid_email_format",18:"error_invalid_password",19:"error_password_too_short",21:"error_user_not_exist",22:"error_password_not_match",23:"error_user_deleted",31:"error_username_is_empty",32:"error_email_is_empty",33:"error_password_is_empty",34:"error_new_password_is_empty",41:"error_authorization_invalid",42:"error_authorization_expired",43:"error_not_logged_in",44:"error_user_not_match",45:"error_user_data_edited",51:"error_email_verify_not_exist",52:"error_email_verification_code_is_empty",53:"error_invalid_email_verification_key"},fe="/api",he={USER:fe+"/user/",LOGIN:fe+"/login/",EMAIL:fe+"/email/",REGISTER:fe+"/register/",USER_USERNAME:fe+"/user/username",USER_EMAIL:fe+"/user/email",USER_PASSWORD:fe+"/user/password"};function ge(e,t){return $e("POST",e,t)}function ve(e,t){return $e("PUT",e,t)}function we(e){return $e("GET",e)}function $e(e,t,n){return new Promise((async(r,s)=>{const i={method:e,headers:{"Content-Type":"application/json",Authorization:me.GetToken()}};null!==n&&(i.body=JSON.stringify(n));const a=await fetch(t,i);if(a.headers.has("authorization")){const e=a.headers.get("authorization");me.SetToken(e)}let o="";const l=a.body.getReader(),c=new TextDecoder;for(;;){const{done:e,value:t}=await l.read();if(e)break;o+=c.decode(t,{stream:!0})}try{const e=JSON.parse(o),t={success:e.success,result:e.result,error:pe[e.error]};a.ok?r(t.result):s(t.error||t)}catch(e){s(e)}}))}var ye={GetMe:function(){return we(he.USER)},Login:function(e,t){return ge(he.LOGIN,{email:e,password:t})},VerifyEmailChange:function(e){return we(he.EMAIL+e)},VerifyEmailOwner:function(){return ge(he.EMAIL)},Register:function(e,t,n){return ge(he.REGISTER,{username:e,email:t,password:n})},VerifyRegister:function(e){return we(he.REGISTER+e)},ChangeUsername:function(e,t){return ve(he.USER_USERNAME,{username:e,password:t})},ChangeEmail:function(e,t){return ve(he.USER_EMAIL,{code:e,email:t})},ChangePassword:function(e,t){return ve(he.USER_PASSWORD,{password:e,new_password:t})}};const xe={register:"Register",login:"Login",register_username:"Username:",register_email:"Email",register_password:"Password",register_retype_password:"Retype Password",register_email_verification:"An email verification has been sent to your email inbox. Please check your email and confirm to complete the account registration.",register_confirm:"Confirm",register_invalid_email:"Invalid email format.",register_invalid_username:"Username contains invalid characters.",register_invalid_password:"Password contains invalid characters.",register_username_limit:"Available characters: a~zA~Z0~9_-",register_password_limit:"Available characters: a~zA~Z0~9!@#$%^&*_-",register_username_too_short:"Your username must be at least 4 characters long.",register_password_too_short:"Your password must be at least 8 characters long.",register_username_too_long:"Usernames cannot be more than 24 characters.",register_passwords_not_match:"Your passwords do not match.",register_success:"Register success.",login_email:"Email",login_password:"Password",index_info:"User info",index_username:" Name: ",index_email:"Email: ",index_current_password:"Current Password",index_edit_confirm:"Confirm",index_edit_cancel:"Cancel",index_change_username:"Change Username",index_change_email:"Change Email Address",index_change_verify_old_email_address:"Verify Your Old Email Address",index_change_email_send_verification:"Send Verification Code",index_change_new_email_address:"New Email Address",index_change_email_again_count_down:"waiting:",index_change_password:"Change Password",index_change_password_cant_equal:"Your new password can not be equal to your current password.",index_change_current_password:"Current Password",index_change_new_password:"New Password",index_change_retype_password:"Retype Password",index_change_success:"Success",index_change_check_new_email_address:"Please go to your new email inbox and click on the link to apply the changes.",index_change_verification_email_owner:"Please check your email for the verification code.",error_null:"",error_server_side:"Server side error",error_server_side_test:"Server side test",error_client_invalid_request:"Invalid request",error_username_exists:"Username already exists",error_email_existed:"User email already exists",error_register_verification_code_invalid:"Verification code invalid",error_invalid_username:"Invalid username",error_username_too_short:"Username too short",error_username_too_long:"Username too long",error_invalid_email_format:"Invalid email address format",error_invalid_password:"Invalid password",error_password_too_short:"Password too short",error_user_not_exist:"User does not exist",error_password_not_match:"Passwords do not match",error_username_is_empty:"Username is empty",error_email_is_empty:"Email Address is empty",error_password_is_empty:"Password is empty",error_new_password_is_empty:"New password is empty",error_authorization_invalid:"Authorization invalid",error_authorization_expired:"Authorization expired",error_not_logged_in:"Not logged in",error_user_not_match:"User does not match",error_email_verify_not_exist:"Email address verification does not exist",error_email_verification_code_is_empty:"Email verification code is empty",error_invalid_email_verification_key:"Invalid verification key"};let be=xe;const Ee=Z(be);function Re(e){return be[e]||e}Ee.subscribe((e=>{be=e})),fetch(`/translations/${navigator.language}.json`).then((async e=>{if(!e.ok)return;let t="";const n=e.body.getReader(),r=new TextDecoder;for(;;){const{done:e,value:s}=await n.read();if(e)break;t+=r.decode(s,{stream:!0})}const s=Object.assign(xe,JSON.parse(t));Ee.update((()=>s))}));const Ae=Z(!1);var Ie={Login:function(){return new Promise((e=>{ye.GetMe().then((t=>{Ae.update((()=>!0)),e(!0)})).catch((()=>{ye.GetMe().then((()=>{Ae.update((()=>!0)),e(!0)})).catch((()=>{e(!1)}))}))}))},login:Ae};let Te=!1;Ie.login.subscribe((e=>{Te=e}));class Se{constructor(e){this.dirs=e.replace(/^#/,"").split("/")}Shift(){return this.dirs.length>0?this.dirs.shift():""}}const Ne={INDEX:"INDEX",LOGIN:"LOGIN",REGISTER:"REGISTER"},ke=new class{constructor(){const e=this.CreateRoutes();this.route=Z(e),this.hash=new Se(location.hash),window.addEventListener("hashchange",this.HashChange.bind(this)),this.HashChange()}Set(...e){if(e.length<1)return;let t="#"+e[0].toLowerCase();for(let n=1;n<e.length;n++)t+="/"+e;location.hash=t}CreateRoutes(){const e={};for(const t of Object.keys(Ne))e[t]=!1;return e}async HashChange(){const{CreateRoutes:e,Set:t}=this,n=new Se(location.hash);this.hash=n;const r=e(),s=n.Shift().toUpperCase();switch(console.log(s),s){case"REGISTER":{const e=n.Shift();if(""===e)break;const r=B.Append();return void ye.VerifyRegister(e).then((()=>{re.Add(Re("register_success"),se.Type.Alert,null,Re("register_confirm")),t(Ne.LOGIN),r.Remove()})).catch((e=>{re.Add(Re(e),se.Type.Error),t(Ne.LOGIN),r.Remove()}))}case"CHANGE_EMAIL":{const e=n.Shift();if(""===e)break;const r=B.Append();return void ye.VerifyEmailChange(e).then((()=>{re.Add(Re("index_change_success"),se.Type.Alert,null,Re("register_confirm")),t(Ne.INDEX),r.Remove()})).catch((e=>{re.Add(Re(e),se.Type.Error),t(Ne.INDEX),r.Remove()}))}}let i=!1;for(const e of Object.values(Ne))s==e&&(i=!0,r[s]=!0);i?this.route.update((()=>r)):t(Te?Ne.INDEX:Ne.LOGIN)}Hash(){return this.hash}},Ge=ke.route;var Ce={Username:function(e){return/^[a-zA-Z0-9_-]+$/.test(e)?e.length<4?Re("register_username_too_short"):e.length>24?Re("register_username_too_length"):"":Re("register_invalid_username")},Email:function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"":Re("register_invalid_email")},Password:function(e,t){return e.length<8?Re("register_password_too_short"):/^[A-Za-z0-9!@#$%^&*_\-]+$/.test(e)?t&&e===t?Re("index_change_password_cant_equal"):"":Re("register_invalid_password")},RetypePassword:function(e,t){return e===t?"":Re("register_passwords_not_match")}};function Ue(e){let t,n,r;return{c(){t=u("input"),h(t,"type","text"),h(t,"id",e[0]),t.required=!0,h(t,"placeholder",e[2]),h(t,"class","svelte-1y9lmjn")},m(s,i){l(s,t,i),v(t,e[5]),n||(r=p(t,"input",e[10]),n=!0)},p(e,n){1&n&&h(t,"id",e[0]),4&n&&h(t,"placeholder",e[2]),32&n&&t.value!==e[5]&&v(t,e[5])},d(e){e&&c(t),n=!1,r()}}}function Le(e){let t,n,r;return{c(){t=u("input"),h(t,"type","password"),h(t,"id",e[0]),t.required=!0,h(t,"placeholder",e[2]),h(t,"class","svelte-1y9lmjn")},m(s,i){l(s,t,i),v(t,e[5]),n||(r=p(t,"input",e[9]),n=!0)},p(e,n){1&n&&h(t,"id",e[0]),4&n&&h(t,"placeholder",e[2]),32&n&&t.value!==e[5]&&v(t,e[5])},d(e){e&&c(t),n=!1,r()}}}function Oe(e){let t,n;return{c(){t=u("div"),n=d(e[6]),h(t,"class","input_alert svelte-1y9lmjn")},m(e,r){l(e,t,r),o(t,n)},p(e,t){64&t&&g(n,e[6])},d(e){e&&c(t)}}}function Pe(e){let t,n;return{c(){t=u("div"),n=d(e[4]),h(t,"class","hint svelte-1y9lmjn")},m(e,r){l(e,t,r),o(t,n)},p(e,t){16&t&&g(n,e[4])},d(e){e&&c(t)}}}function Me(t){let n,r,s,i,a,m,p,f;function v(e,t){return e[3]?Le:Ue}let w=v(t),$=w(t),y=""!==t[5]&&""!==t[6]&&Oe(t),x=""!=t[4]&&Pe(t);return{c(){n=u("div"),r=u("label"),s=d(t[1]),i=_(),a=u("div"),$.c(),m=_(),y&&y.c(),p=_(),x&&x.c(),h(r,"for",t[0]),h(r,"class","svelte-1y9lmjn"),h(a,"class","input svelte-1y9lmjn"),h(n,"class","form-group svelte-1y9lmjn"),h(n,"data-hint",f=""!==t[5]&&""!==t[6])},m(e,t){l(e,n,t),o(n,r),o(r,s),o(n,i),o(n,a),$.m(a,null),o(a,m),y&&y.m(a,null),o(a,p),x&&x.m(a,null)},p(e,[t]){2&t&&g(s,e[1]),1&t&&h(r,"for",e[0]),w===(w=v(e))&&$?$.p(e,t):($.d(1),$=w(e),$&&($.c(),$.m(a,m))),""!==e[5]&&""!==e[6]?y?y.p(e,t):(y=Oe(e),y.c(),y.m(a,p)):y&&(y.d(1),y=null),""!=e[4]?x?x.p(e,t):(x=Pe(e),x.c(),x.m(a,null)):x&&(x.d(1),x=null),96&t&&f!==(f=""!==e[5]&&""!==e[6])&&h(n,"data-hint",f)},i:e,o:e,d(e){e&&c(n),$.d(),y&&y.d(),x&&x.d()}}}function ze(e,t,n){let{name:r}=t,{label:s=null}=t,{value:i}=t,{placeholder:a=""}=t,{password:o=!1}=t,{hint:l=""}=t,{validate:c=null}=t,u=i.toString(),d="";return e.$$set=e=>{"name"in e&&n(0,r=e.name),"label"in e&&n(1,s=e.label),"value"in e&&n(7,i=e.value),"placeholder"in e&&n(2,a=e.placeholder),"password"in e&&n(3,o=e.password),"hint"in e&&n(4,l=e.hint),"validate"in e&&n(8,c=e.validate)},e.$$.update=()=>{352&e.$$.dirty&&(null!==c&&n(6,d=c(u)),n(7,i=""!==u&&""==d?u:""))},[r,s,a,o,l,u,d,i,c,function(){u=this.value,n(5,u)},function(){u=this.value,n(5,u)}]}class je extends Y{constructor(e){super(),H(this,e,ze,Me,i,{name:0,label:1,value:7,placeholder:2,password:3,hint:4,validate:8})}}function De(e){let t,n,r,s,i,a,m,v,w,$,y,x,E,R,A,I,T,N,k,G,C,U,L,O,P,X,H,Y=e[1].register+"",J=e[1].register+"",Z=e[1].login+"";function W(t){e[3](t)}let B={label:e[1].register_username,name:"username",validate:Ce.Username,hint:e[1].register_username_limit};function F(t){e[4](t)}void 0!==e[0].username&&(B.value=e[0].username),a=new je({props:B}),b.push((()=>j(a,"value",W)));let K={label:e[1].register_email,name:"email",validate:Ce.Email};function Q(t){e[5](t)}void 0!==e[0].email&&(K.value=e[0].email),w=new je({props:K}),b.push((()=>j(w,"value",F)));let ee={label:e[1].register_password,name:"password",password:!0,validate:Ce.Password,hint:e[1].register_password_limit};function te(t){e[7](t)}void 0!==e[0].password&&(ee.value=e[0].password),x=new je({props:ee}),b.push((()=>j(x,"value",Q)));let ne={label:e[1].register_retype_password,name:"retype_password",password:!0,validate:e[6],hint:e[1].register_password_limit};return void 0!==e[0].retype_password&&(ne.value=e[0].retype_password),A=new je({props:ne}),b.push((()=>j(A,"value",te))),{c(){t=u("div"),n=u("form"),r=u("h2"),s=d(Y),i=_(),D(a.$$.fragment),v=_(),D(w.$$.fragment),y=_(),D(x.$$.fragment),R=_(),D(A.$$.fragment),T=_(),N=u("div"),k=u("button"),G=d(J),C=_(),U=u("a"),L=u("span"),O=d(Z),h(r,"class","svelte-6a96b1"),h(k,"type","submit"),h(k,"class","svelte-6a96b1"),h(N,"class","form-group svelte-6a96b1"),h(U,"href","/#login"),h(t,"class","container svelte-6a96b1")},m(c,u){l(c,t,u),o(t,n),o(n,r),o(r,s),o(n,i),q(a,n,null),o(n,v),q(w,n,null),o(n,y),q(x,n,null),o(n,R),q(A,n,null),o(n,T),o(n,N),o(N,k),o(k,G),o(t,C),o(t,U),o(U,L),o(L,O),P=!0,X||(H=p(n,"submit",f(e[2])),X=!0)},p(e,[t]){(!P||2&t)&&Y!==(Y=e[1].register+"")&&g(s,Y);const n={};2&t&&(n.label=e[1].register_username),2&t&&(n.hint=e[1].register_username_limit),!m&&1&t&&(m=!0,n.value=e[0].username,S((()=>m=!1))),a.$set(n);const r={};2&t&&(r.label=e[1].register_email),!$&&1&t&&($=!0,r.value=e[0].email,S((()=>$=!1))),w.$set(r);const i={};2&t&&(i.label=e[1].register_password),2&t&&(i.hint=e[1].register_password_limit),!E&&1&t&&(E=!0,i.value=e[0].password,S((()=>E=!1))),x.$set(i);const o={};2&t&&(o.label=e[1].register_retype_password),1&t&&(o.validate=e[6]),2&t&&(o.hint=e[1].register_password_limit),!I&&1&t&&(I=!0,o.value=e[0].retype_password,S((()=>I=!1))),A.$set(o),(!P||2&t)&&J!==(J=e[1].register+"")&&g(G,J),(!P||2&t)&&Z!==(Z=e[1].login+"")&&g(O,Z)},i(e){P||(M(a.$$.fragment,e),M(w.$$.fragment,e),M(x.$$.fragment,e),M(A.$$.fragment,e),P=!0)},o(e){z(a.$$.fragment,e),z(w.$$.fragment,e),z(x.$$.fragment,e),z(A.$$.fragment,e),P=!1},d(e){e&&c(t),V(a),V(w),V(x),V(A),X=!1,H()}}}function qe(e,t,n){let r;a(e,Ee,(e=>n(1,r=e)));const s={username:"",email:"",password:"",retype_password:""};return[s,r,async function(){if(console.log(s),""==s.username||""==s.email||""==s.password||""==s.retype_password)return;const e=B.Append();ye.Register(s.username,s.email,s.password).then((()=>{re.Add(r.register_email_verification,se.Type.Alert,(async()=>ke.Set(Ne.LOGIN)),r.register_confirm),e.Remove()})).catch((t=>{re.Add(r[t],se.Type.Error),e.Remove()}))},function(t){e.$$.not_equal(s.username,t)&&(s.username=t,n(0,s))},function(t){e.$$.not_equal(s.email,t)&&(s.email=t,n(0,s))},function(t){e.$$.not_equal(s.password,t)&&(s.password=t,n(0,s))},e=>Ce.RetypePassword(s.password,e),function(t){e.$$.not_equal(s.retype_password,t)&&(s.retype_password=t,n(0,s))}]}class Ve extends Y{constructor(e){super(),H(this,e,qe,De,i,{})}}function Xe(e){let t,n,r,s,i,a,m,v,w,$,y,x,E,R,A,I,T,N,k,G,C,U=e[2].login+"",L=e[2].login+"",O=e[2].register+"";function P(t){e[4](t)}let X={label:e[2].login_email,name:"email"};function H(t){e[5](t)}void 0!==e[0]&&(X.value=e[0]),a=new je({props:X}),b.push((()=>j(a,"value",P)));let Y={label:e[2].login_password,name:"password",password:!0};return void 0!==e[1]&&(Y.value=e[1]),w=new je({props:Y}),b.push((()=>j(w,"value",H))),{c(){t=u("div"),n=u("form"),r=u("h2"),s=d(U),i=_(),D(a.$$.fragment),v=_(),D(w.$$.fragment),y=_(),x=u("div"),E=u("button"),R=d(L),A=_(),I=u("a"),T=u("span"),N=d(O),h(r,"class","svelte-16hjzu5"),h(E,"type","submit"),h(E,"class","svelte-16hjzu5"),h(x,"class","form-group svelte-16hjzu5"),h(I,"href","/#register"),h(t,"class","container svelte-16hjzu5")},m(c,u){l(c,t,u),o(t,n),o(n,r),o(r,s),o(n,i),q(a,n,null),o(n,v),q(w,n,null),o(n,y),o(n,x),o(x,E),o(E,R),o(t,A),o(t,I),o(I,T),o(T,N),k=!0,G||(C=p(n,"submit",f(e[3])),G=!0)},p(e,[t]){(!k||4&t)&&U!==(U=e[2].login+"")&&g(s,U);const n={};4&t&&(n.label=e[2].login_email),!m&&1&t&&(m=!0,n.value=e[0],S((()=>m=!1))),a.$set(n);const r={};4&t&&(r.label=e[2].login_password),!$&&2&t&&($=!0,r.value=e[1],S((()=>$=!1))),w.$set(r),(!k||4&t)&&L!==(L=e[2].login+"")&&g(R,L),(!k||4&t)&&O!==(O=e[2].register+"")&&g(N,O)},i(e){k||(M(a.$$.fragment,e),M(w.$$.fragment,e),k=!0)},o(e){z(a.$$.fragment,e),z(w.$$.fragment,e),k=!1},d(e){e&&c(t),V(a),V(w),G=!1,C()}}}function He(e,t,n){let r;a(e,Ee,(e=>n(2,r=e)));let s="",i="";return[s,i,r,async function(){const e=B.Append();ye.Login(s,i).then((()=>{Ie.login.update((()=>!0)),ke.Set(Ne.INDEX),e.Remove()})).catch((t=>{re.Add(r[t],se.Type.Error),e.Remove()}))},function(e){s=e,n(0,s)},function(e){i=e,n(1,i)}]}class Ye extends Y{constructor(e){super(),H(this,e,He,Xe,i,{})}}function Je(e){let t,n,r,s=e[4].index_change_email_again_count_down+"";return{c(){t=d(s),n=d(e[3]),r=d("s")},m(e,s){l(e,t,s),l(e,n,s),l(e,r,s)},p(e,r){16&r&&s!==(s=e[4].index_change_email_again_count_down+"")&&g(t,s),8&r&&g(n,e[3])},d(e){e&&c(t),e&&c(n),e&&c(r)}}}function Ze(e){let t,n=e[4].index_change_email_send_verification+"";return{c(){t=d(n)},m(e,n){l(e,t,n)},p(e,r){16&r&&n!==(n=e[4].index_change_email_send_verification+"")&&g(t,n)},d(e){e&&c(t)}}}function We(e){let t,n,i,a,m,w,$,y,x,E,R,A,I,T,N,k,G,C,U,L,O,P,X,H,Y=e[4].index_change_email+"",J=e[4].index_change_verify_old_email_address+"",Z=e[4].index_edit_cancel+"",W=e[4].index_edit_confirm+"";function B(e,t){return 0==e[3]?Ze:Je}let F=B(e),K=F(e);function Q(t){e[8](t)}let ee={label:e[4].index_change_new_email_address,name:"new_email",validate:Ce.Email};return void 0!==e[2]&&(ee.value=e[2]),I=new je({props:ee}),b.push((()=>j(I,"value",Q))),{c(){t=u("form"),n=u("h2"),i=d(Y),a=_(),m=u("div"),w=u("label"),$=d(J),y=_(),x=u("div"),E=u("input"),R=u("button"),K.c(),A=_(),D(I.$$.fragment),N=_(),k=u("div"),G=u("button"),C=d(Z),U=_(),L=u("button"),O=d(W),h(n,"class","svelte-wn31vx"),h(w,"for","verification"),h(w,"class","svelte-wn31vx"),h(E,"type","text"),h(E,"id","verification"),E.required=!0,h(E,"class","svelte-wn31vx"),h(R,"type","button"),h(R,"class","svelte-wn31vx"),h(x,"class","input svelte-wn31vx"),h(x,"data-type","verification_code"),h(m,"class","form-group svelte-wn31vx"),h(G,"type","button"),h(G,"class","svelte-wn31vx"),h(L,"type","submit"),h(L,"class","svelte-wn31vx"),h(k,"class","form-group options svelte-wn31vx")},m(r,c){l(r,t,c),o(t,n),o(n,i),o(t,a),o(t,m),o(m,w),o(w,$),o(m,y),o(m,x),o(x,E),v(E,e[1]),o(x,R),K.m(R,null),o(t,A),q(I,t,null),o(t,N),o(t,k),o(k,G),o(G,C),o(k,U),o(k,L),o(L,O),P=!0,X||(H=[p(E,"input",e[7]),p(R,"click",e[5]),p(G,"click",(function(){s(e[0])&&e[0].apply(this,arguments)})),p(t,"submit",f(e[6]))],X=!0)},p(t,[n]){e=t,(!P||16&n)&&Y!==(Y=e[4].index_change_email+"")&&g(i,Y),(!P||16&n)&&J!==(J=e[4].index_change_verify_old_email_address+"")&&g($,J),2&n&&E.value!==e[1]&&v(E,e[1]),F===(F=B(e))&&K?K.p(e,n):(K.d(1),K=F(e),K&&(K.c(),K.m(R,null)));const r={};16&n&&(r.label=e[4].index_change_new_email_address),!T&&4&n&&(T=!0,r.value=e[2],S((()=>T=!1))),I.$set(r),(!P||16&n)&&Z!==(Z=e[4].index_edit_cancel+"")&&g(C,Z),(!P||16&n)&&W!==(W=e[4].index_edit_confirm+"")&&g(O,W)},i(e){P||(M(I.$$.fragment,e),P=!0)},o(e){z(I.$$.fragment,e),P=!1},d(e){e&&c(t),K.d(),V(I),X=!1,r(H)}}}function Be(e,t,n){let r;a(e,Ee,(e=>n(4,r=e)));let{Cancel:s}=t,i="",o="",l=0;return e.$$set=e=>{"Cancel"in e&&n(0,s=e.Cancel)},[s,i,o,l,r,function(){if(l>0)return;n(3,l=120);const e=setInterval((()=>{0==l?clearInterval(e):n(3,l--,l)}),1e3),t=B.Append();ye.VerifyEmailOwner().then((()=>{re.Add(r.index_change_verification_email_owner,se.Type.Alert,null,r.index_edit_confirm),t.Remove()})).catch((e=>{re.Add(r[e],se.Type.Error),t.Remove()}))},function(){if(""==o)return;const e=B.Append();ye.ChangeEmail(i,o).then((()=>{s(),re.Add(r.index_change_email_success,se.Type.Normal),e.Remove()})).catch((t=>{re.Add(r[t],se.Type.Error),e.Remove()}))},function(){i=this.value,n(1,i)},function(e){o=e,n(2,o)}]}class Fe extends Y{constructor(e){super(),H(this,e,Be,We,i,{Cancel:0})}}function Ke(e){let t,n,i,a,m,v,w,$,y,x,E,R,A,I,T,N,k,G,C,U=e[3].index_change_username+"",L=e[3].index_edit_cancel+"",O=e[3].index_edit_confirm+"";function P(t){e[5](t)}let X={label:e[3].register_username,name:"username",validate:Ce.Username,hint:e[3].register_username_limit};function H(t){e[6](t)}void 0!==e[1]&&(X.value=e[1]),m=new je({props:X}),b.push((()=>j(m,"value",P)));let Y={label:e[3].index_current_password,name:"password",hint:e[3].register_username_limit,validate:Ce.Password,password:!0};return void 0!==e[2]&&(Y.value=e[2]),$=new je({props:Y}),b.push((()=>j($,"value",H))),{c(){t=u("form"),n=u("h2"),i=d(U),a=_(),D(m.$$.fragment),w=_(),D($.$$.fragment),x=_(),E=u("div"),R=u("button"),A=d(L),I=_(),T=u("button"),N=d(O),h(n,"class","svelte-1byywf8"),h(R,"type","button"),h(R,"class","svelte-1byywf8"),h(T,"type","submit"),h(T,"class","svelte-1byywf8"),h(E,"class","form-group options svelte-1byywf8")},m(r,c){l(r,t,c),o(t,n),o(n,i),o(t,a),q(m,t,null),o(t,w),q($,t,null),o(t,x),o(t,E),o(E,R),o(R,A),o(E,I),o(E,T),o(T,N),k=!0,G||(C=[p(R,"click",(function(){s(e[0])&&e[0].apply(this,arguments)})),p(t,"submit",f(e[4]))],G=!0)},p(t,[n]){e=t,(!k||8&n)&&U!==(U=e[3].index_change_username+"")&&g(i,U);const r={};8&n&&(r.label=e[3].register_username),8&n&&(r.hint=e[3].register_username_limit),!v&&2&n&&(v=!0,r.value=e[1],S((()=>v=!1))),m.$set(r);const s={};8&n&&(s.label=e[3].index_current_password),8&n&&(s.hint=e[3].register_username_limit),!y&&4&n&&(y=!0,s.value=e[2],S((()=>y=!1))),$.$set(s),(!k||8&n)&&L!==(L=e[3].index_edit_cancel+"")&&g(A,L),(!k||8&n)&&O!==(O=e[3].index_edit_confirm+"")&&g(N,O)},i(e){k||(M(m.$$.fragment,e),M($.$$.fragment,e),k=!0)},o(e){z(m.$$.fragment,e),z($.$$.fragment,e),k=!1},d(e){e&&c(t),V(m),V($),G=!1,r(C)}}}function Qe(e,t,n){let r;a(e,Ee,(e=>n(3,r=e)));let{Cancel:s}=t,i="",o="";return e.$$set=e=>{"Cancel"in e&&n(0,s=e.Cancel)},[s,i,o,r,function(){if(""==i||""==o)return;const e=B.Append();ye.ChangeUsername(i,o).then((()=>{s(),re.Add(r.index_change_success,se.Type.Normal),e.Remove()})).catch((t=>{re.Add(r[t],se.Type.Error),e.Remove()}))},function(e){i=e,n(1,i)},function(e){o=e,n(2,o)}]}class et extends Y{constructor(e){super(),H(this,e,Qe,Ke,i,{Cancel:0})}}function tt(e){let t,n,i,a,m,v,w,$,y,x,E,R,A,I,T,N,k,G,C,U,L,O,P=e[4].index_change_password+"",X=e[4].index_edit_cancel+"",H=e[4].index_edit_confirm+"";function Y(t){e[8](t)}let J={label:e[4].index_change_current_password,name:"password",password:!0,validate:Ce.Password};function Z(t){e[9](t)}void 0!==e[1]&&(J.value=e[1]),m=new je({props:J}),b.push((()=>j(m,"value",Y)));let W={label:e[4].index_change_new_password,name:"new_password",password:!0,validate:e[6],hint:e[4].register_password_limit};function B(t){e[10](t)}void 0!==e[2]&&(W.value=e[2]),$=new je({props:W}),b.push((()=>j($,"value",Z)));let F={label:e[4].index_change_retype_password,name:"new_password",password:!0,validate:e[7]};return void 0!==e[3]&&(F.value=e[3]),E=new je({props:F}),b.push((()=>j(E,"value",B))),{c(){t=u("form"),n=u("h2"),i=d(P),a=_(),D(m.$$.fragment),w=_(),D($.$$.fragment),x=_(),D(E.$$.fragment),A=_(),I=u("div"),T=u("button"),N=d(X),k=_(),G=u("button"),C=d(H),h(n,"class","svelte-ith9rs"),h(T,"type","button"),h(T,"class","svelte-ith9rs"),h(G,"type","submit"),h(G,"class","svelte-ith9rs"),h(I,"class","form-group options svelte-ith9rs")},m(r,c){l(r,t,c),o(t,n),o(n,i),o(t,a),q(m,t,null),o(t,w),q($,t,null),o(t,x),q(E,t,null),o(t,A),o(t,I),o(I,T),o(T,N),o(I,k),o(I,G),o(G,C),U=!0,L||(O=[p(T,"click",(function(){s(e[0])&&e[0].apply(this,arguments)})),p(t,"submit",f(e[5]))],L=!0)},p(t,[n]){e=t,(!U||16&n)&&P!==(P=e[4].index_change_password+"")&&g(i,P);const r={};16&n&&(r.label=e[4].index_change_current_password),!v&&2&n&&(v=!0,r.value=e[1],S((()=>v=!1))),m.$set(r);const s={};16&n&&(s.label=e[4].index_change_new_password),16&n&&(s.hint=e[4].register_password_limit),!y&&4&n&&(y=!0,s.value=e[2],S((()=>y=!1))),$.$set(s);const a={};16&n&&(a.label=e[4].index_change_retype_password),!R&&8&n&&(R=!0,a.value=e[3],S((()=>R=!1))),E.$set(a),(!U||16&n)&&X!==(X=e[4].index_edit_cancel+"")&&g(N,X),(!U||16&n)&&H!==(H=e[4].index_edit_confirm+"")&&g(C,H)},i(e){U||(M(m.$$.fragment,e),M($.$$.fragment,e),M(E.$$.fragment,e),U=!0)},o(e){z(m.$$.fragment,e),z($.$$.fragment,e),z(E.$$.fragment,e),U=!1},d(e){e&&c(t),V(m),V($),V(E),L=!1,r(O)}}}function nt(e,t,n){let r;a(e,Ee,(e=>n(4,r=e)));let{Cancel:s}=t,i="",o="",l="";return e.$$set=e=>{"Cancel"in e&&n(0,s=e.Cancel)},[s,i,o,l,r,function(){if(""==i||""==o||""==l)return;const e=B.Append();ye.ChangePassword(i,o).then((()=>{s(),re.Add(r.index_change_success,se.Type.Normal),e.Remove()})).catch((t=>{re.Add(r[t],se.Type.Error),e.Remove()}))},function(e){return Ce.Password(i,e)},function(e){return Ce.RetypePassword(o,e)},function(e){i=e,n(1,i)},function(e){o=e,n(2,o)},function(e){l=e,n(3,l)}]}class rt extends Y{constructor(e){super(),H(this,e,nt,tt,i,{Cancel:0})}}function st(e){let t,n,r,s;const i=[at,it],a=[];function o(e,t){return e[1]||e[2]||e[3]?1:0}return t=o(e),n=a[t]=i[t](e),{c(){n.c(),r=m()},m(e,n){a[t].m(e,n),l(e,r,n),s=!0},p(e,s){let l=t;t=o(e),t===l?a[t].p(e,s):(O(),z(a[l],1,1,(()=>{a[l]=null})),P(),n=a[t],n?n.p(e,s):(n=a[t]=i[t](e),n.c()),M(n,1),n.m(r.parentNode,r))},i(e){s||(M(n),s=!0)},o(e){z(n),s=!1},d(e){a[t].d(e),e&&c(r)}}}function it(e){let t,n,r,s,i=e[1]&&ot(e),a=e[2]&&lt(e),o=e[3]&&ct(e);return{c(){i&&i.c(),t=_(),a&&a.c(),n=_(),o&&o.c(),r=m()},m(e,c){i&&i.m(e,c),l(e,t,c),a&&a.m(e,c),l(e,n,c),o&&o.m(e,c),l(e,r,c),s=!0},p(e,s){e[1]?i?(i.p(e,s),2&s&&M(i,1)):(i=ot(e),i.c(),M(i,1),i.m(t.parentNode,t)):i&&(O(),z(i,1,1,(()=>{i=null})),P()),e[2]?a?(a.p(e,s),4&s&&M(a,1)):(a=lt(e),a.c(),M(a,1),a.m(n.parentNode,n)):a&&(O(),z(a,1,1,(()=>{a=null})),P()),e[3]?o?(o.p(e,s),8&s&&M(o,1)):(o=ct(e),o.c(),M(o,1),o.m(r.parentNode,r)):o&&(O(),z(o,1,1,(()=>{o=null})),P())},i(e){s||(M(i),M(a),M(o),s=!0)},o(e){z(i),z(a),z(o),s=!1},d(e){i&&i.d(e),e&&c(t),a&&a.d(e),e&&c(n),o&&o.d(e),e&&c(r)}}}function at(t){let n,s,i,a,m,f,w,$,y,x,b,E,R,A,I,T,S,N,k,G,C,U,L,O=t[4].index_info+"",P=t[4].index_change_password+"";return{c(){n=u("div"),s=u("h2"),i=d(O),a=_(),m=u("div"),f=u("input"),w=_(),$=u("button"),$.innerHTML='<ion-icon name="settings-outline" class="svelte-9nxxic"></ion-icon>',x=_(),b=u("div"),E=u("input"),R=_(),A=u("button"),A.innerHTML='<ion-icon name="settings-outline" class="svelte-9nxxic"></ion-icon>',T=_(),S=u("div"),N=u("button"),k=d(P),G=_(),C=u("button"),C.innerHTML='<ion-icon name="log-out-outline" class="svelte-9nxxic"></ion-icon>',h(s,"class","svelte-9nxxic"),h(f,"type","text"),f.readOnly=!0,h(f,"class","svelte-9nxxic"),h($,"class","field_edit svelte-9nxxic"),h(m,"class","field svelte-9nxxic"),h(m,"data-label",y=t[4].index_username),h(E,"type","text"),E.readOnly=!0,h(E,"class","svelte-9nxxic"),h(A,"class","field_edit svelte-9nxxic"),h(b,"class","field svelte-9nxxic"),h(b,"data-label",I=t[4].index_email),h(N,"class","password_edit btn svelte-9nxxic"),h(C,"id","logout"),h(C,"class","btn right svelte-9nxxic"),h(S,"class","field svelte-9nxxic"),h(n,"class","user-info svelte-9nxxic")},m(e,r){l(e,n,r),o(n,s),o(s,i),o(n,a),o(n,m),o(m,f),v(f,t[0].name),o(m,w),o(m,$),o(n,x),o(n,b),o(b,E),v(E,t[0].email),o(b,R),o(b,A),o(n,T),o(n,S),o(S,N),o(N,k),o(S,G),o(S,C),U||(L=[p(f,"input",t[10]),p($,"click",t[6]),p(E,"input",t[11]),p(A,"click",t[7]),p(N,"click",t[8]),p(C,"click",t[5])],U=!0)},p(e,t){16&t&&O!==(O=e[4].index_info+"")&&g(i,O),1&t&&f.value!==e[0].name&&v(f,e[0].name),16&t&&y!==(y=e[4].index_username)&&h(m,"data-label",y),1&t&&E.value!==e[0].email&&v(E,e[0].email),16&t&&I!==(I=e[4].index_email)&&h(b,"data-label",I),16&t&&P!==(P=e[4].index_change_password+"")&&g(k,P)},i:e,o:e,d(e){e&&c(n),U=!1,r(L)}}}function ot(t){let n,r;return n=new et({props:{Cancel:t[9]}}),{c(){D(n.$$.fragment)},m(e,t){q(n,e,t),r=!0},p:e,i(e){r||(M(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){V(n,e)}}}function lt(t){let n,r;return n=new Fe({props:{Cancel:t[9]}}),{c(){D(n.$$.fragment)},m(e,t){q(n,e,t),r=!0},p:e,i(e){r||(M(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){V(n,e)}}}function ct(t){let n,r;return n=new rt({props:{Cancel:t[9]}}),{c(){D(n.$$.fragment)},m(e,t){q(n,e,t),r=!0},p:e,i(e){r||(M(n.$$.fragment,e),r=!0)},o(e){z(n.$$.fragment,e),r=!1},d(e){V(n,e)}}}function ut(e){let t,n,r=e[0]&&st(e);return{c(){t=u("div"),r&&r.c(),h(t,"class","container svelte-9nxxic")},m(e,s){l(e,t,s),r&&r.m(t,null),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&M(r,1)):(r=st(e),r.c(),M(r,1),r.m(t,null)):r&&(O(),z(r,1,1,(()=>{r=null})),P())},i(e){n||(M(r),n=!0)},o(e){z(r),n=!1},d(e){e&&c(t),r&&r.d()}}}function dt(e,t,n){let r,s;a(e,Ee,(e=>n(4,r=e))),me.GetUser().then((e=>{n(0,s=e)}));let i=!1;let o=!1;let l=!1;return[s,i,o,l,r,function(){me.SetToken("invalid"),me.SetToken("invalid_t"),Ie.login.update((()=>!1)),ke.Set(Ne.LOGIN)},function(){n(1,i=!0)},function(){n(2,o=!0)},function(){n(3,l=!0)},function(){me.GetUser().then((e=>{n(0,s=e)})),n(1,i=!1),n(2,o=!1),n(3,l=!1)},function(){s.name=this.value,n(0,s)},function(){s.email=this.value,n(0,s)}]}class _t extends Y{constructor(e){super(),H(this,e,dt,ut,i,{})}}function mt(e){let t,n;return t=new _t({}),{c(){D(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function pt(e){let t,n;return t=new Ye({}),{c(){D(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ft(e){let t,n;return t=new Ve({}),{c(){D(t.$$.fragment)},m(e,r){q(t,e,r),n=!0},i(e){n||(M(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){V(t,e)}}}function ht(e){let t,n,r,s,i,a,d,m,p=e[0].INDEX&&mt(),f=e[0].LOGIN&&pt(),g=e[0].REGISTER&&ft();return i=new ce({}),d=new te({}),{c(){t=u("main"),p&&p.c(),n=_(),f&&f.c(),r=_(),g&&g.c(),s=_(),D(i.$$.fragment),a=_(),D(d.$$.fragment),h(t,"class","svelte-rvoxxx")},m(e,c){l(e,t,c),p&&p.m(t,null),o(t,n),f&&f.m(t,null),o(t,r),g&&g.m(t,null),o(t,s),q(i,t,null),o(t,a),q(d,t,null),m=!0},p(e,[i]){e[0].INDEX?p?1&i&&M(p,1):(p=mt(),p.c(),M(p,1),p.m(t,n)):p&&(O(),z(p,1,1,(()=>{p=null})),P()),e[0].LOGIN?f?1&i&&M(f,1):(f=pt(),f.c(),M(f,1),f.m(t,r)):f&&(O(),z(f,1,1,(()=>{f=null})),P()),e[0].REGISTER?g?1&i&&M(g,1):(g=ft(),g.c(),M(g,1),g.m(t,s)):g&&(O(),z(g,1,1,(()=>{g=null})),P())},i(e){m||(M(p),M(f),M(g),M(i.$$.fragment,e),M(d.$$.fragment,e),m=!0)},o(e){z(p),z(f),z(g),z(i.$$.fragment,e),z(d.$$.fragment,e),m=!1},d(e){e&&c(t),p&&p.d(),f&&f.d(),g&&g.d(),V(i),V(d)}}}function gt(e,t,n){let r,s;return a(e,Ge,(e=>n(0,r=e))),a(e,Ae,(e=>n(1,s=e))),Ie.Login(),e.$$.update=()=>{if(3&e.$$.dirty)switch(!0){case r.INDEX:if(s)break;ke.Set(Ne.LOGIN);break;case r.LOGIN:case r.REGISTER:if(!s)break;ke.Set(Ne.INDEX)}},[r,s]}return new class extends Y{constructor(e){super(),H(this,e,gt,ht,i,{})}}({target:document.body})}();
